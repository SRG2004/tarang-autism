# ⚠️ SECURITY WARNING: NEVER COMMIT SECRETS TO GIT ⚠️
# Copy this file to .env and fill in your actual secure values

# =============================================================================
# ENVIRONMENT CONFIGURATION
# =============================================================================
# Set to "production" to enable strict security settings
ENVIRONMENT=production

# =============================================================================
# JWT & ENCRYPTION SECRETS (REQUIRED)
# =============================================================================
# Generate strong keys with: python -c "import secrets; print(secrets.token_urlsafe(64))"
# CRITICAL: Use different keys for each environment

# JWT Secret for token signing (min 64 characters recommended)
JWT_SECRET=your_jwt_secret_change_in_production_use_random_64_chars_minimum

# Database encryption key for PII (MUST be exactly 16, 24, or 32 bytes)
SECRET_KEY=change_this_32byte_secret_key

# =============================================================================
# AWS RDS POSTGRESQL CONFIGURATION (RECOMMENDED FOR PRODUCTION)
# =============================================================================
# Individual database connection parameters (easier to configure in AWS Console)

# Database host (AWS RDS endpoint)
DB_HOST=your-rds-instance.abc123.ap-south-1.rds.amazonaws.com

# Database port (default: 5432)
DB_PORT=5432

# Database name
DB_NAME=tarang_production

# Database user
DB_USER=tarang_admin

# Database password
DB_PASSWORD=your_secure_database_password

# SSL Mode for AWS RDS (REQUIRED for production)
# Options: require, verify-full, verify-ca, disable
# Use "require" for AWS RDS (recommended)
DB_SSL=require

# =============================================================================
# ALTERNATIVE: DATABASE_URL (LEGACY SUPPORT)
# =============================================================================
# If you prefer a single connection string instead of individual variables
# Note: Individual DB_* variables take priority if both are set

# For production PostgreSQL with SSL:
# DATABASE_URL=postgresql://user:password@host:5432/database?sslmode=require

# For local development (SQLite):
# DATABASE_URL=sqlite:///./tarang.db

# =============================================================================
# AWS CONFIGURATION (REQUIRED FOR AI FEATURES)
# =============================================================================
# AWS credentials for Bedrock, Polly, S3, etc.

AWS_ACCESS_KEY_ID=your_aws_access_key_id
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key
AWS_REGION=ap-south-1

# Optional AWS services
HEALTHLAKE_DATASTORE_ID=your_healthlake_datastore_id
S3_BUCKET_NAME=tarang-screening-data

# =============================================================================
# REDIS CONFIGURATION (REQUIRED FOR CELERY WORKERS)
# =============================================================================
# For production Redis (AWS ElastiCache, Upstash, Redis Cloud, etc.):
REDIS_URL=redis://default:password@host:port

# For AWS ElastiCache Redis:
# REDIS_URL=redis://your-elasticache-endpoint.cache.amazonaws.com:6379

# For Upstash Redis with SSL:
# REDIS_URL=rediss://default:password@host:port

# For local development:
# REDIS_URL=redis://localhost:6379/0

# =============================================================================
# CORS & NETWORKING
# =============================================================================
# Comma-separated list of allowed origins (NO trailing slashes)
# For AWS Amplify frontend:
ALLOWED_ORIGINS=https://your-app.amplifyapp.com,https://www.yourdomain.com

# For development:
# ALLOWED_ORIGINS=http://localhost:3000

# =============================================================================
# SERVER CONFIGURATION (OPTIONAL - DEFAULTS ARE PRODUCTION-READY)
# =============================================================================
# Gunicorn workers (default: 4)
# WORKERS=4

# Request timeout in seconds (default: 120)
# TIMEOUT=120

# Celery worker concurrency (default: 2)
# CELERY_CONCURRENCY=2

# Celery log level (default: warning)
# CELERY_LOGLEVEL=warning
